@{
    ViewData["Title"] = "Sign In";
    Layout = KTTheme.GetView("Auth.cshtml");
    KTTheme.AddJavascriptFile("js/custom/Authentication/sign-in/login.js");
}

<div class="modal fade" id="kt_modal_forgot_password" tabindex="-1" aria-hidden="true">
    <!-- Begin::Modal dialog -->
    <div class="modal-dialog modal-dialog-centered mw-500px">
        <!-- Begin::Modal content -->
        <div class="modal-content">
            <!-- Begin::Modal header -->
            <div class="modal-header" id="kt_modal_forgot_password_header">
                <!-- Begin::Modal title -->
                <h2 class="fw-bold">Forgot Password</h2>
                <!-- End::Modal title -->
                <!-- Begin::Close -->
                <div class="btn btn-icon btn-sm btn-active-icon-primary" data-kt-add-users-modal-action="close" data-bs-dismiss="modal">
                    <i class="ki-duotone ki-cross fs-1">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                </div>
                <!-- End::Close -->
            </div>
            <!-- End::Modal header -->
            <!-- Begin::Modal body -->
            <div class="modal-body px-2 my-4">
                <!-- Begin::Form -->
                <form id="kt_modal_forgot_password_form" class="form" action="#">
                    <!-- Begin::Scroll -->
                    <div class="d-flex flex-column scroll-y px-3 px-lg-5" id="kt_modal_forgot_password_scroll" data-kt-scroll="true" data-kt-scroll-activate="true" data-kt-scroll-max-height="auto" data-kt-scroll-dependencies="#kt_modal_add_user_header" data-kt-scroll-wrappers="#kt_modal_add_user_scroll" data-kt-scroll-offset="300px">
                        <!-- Begin::Full Name -->
                        <div class="fv-row mb-3">
                            <!-- Begin::Label -->
                            <label class="fs-6 fw-semibold form-label mt-1 text-center">
                                <span class="required">Account Number </span>
                                <span class="ms-1" data-bs-toggle="tooltip" title="Enter your Account / Badge Number">
                                    <i class="ki-duotone ki-information fs-7">
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                        <span class="path3"></span>
                                    </i>
                                </span>
                            </label>
                            <!-- End::Label -->
                            <!-- Begin::Input -->
                            <input type="text" placeholder="Account Number" class="form-control bg-transparent border border-primary border-hover border-active active" name="account" id="kt_forgot_account" value="" />
                            <!-- End::Input -->
                            <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2">
                                <i class="fas fa-times-circle position-absolute me-2" id="clearButton" style="cursor: pointer; display: none;"></i>
                            </span>
                        </div>
                        <!-- End::Full Name -->
                    </div>
                    <!-- End::Scroll -->
                    <!-- Begin::Separator -->
                    <div class="separator mb-6"></div>
                    <!-- End::Separator -->
                    <!-- Begin::Actions -->
                    <div class="text-center pt-5">
                        <button type="reset" class="btn btn-light me-3" data-kt-add-users-modal-action="cancel">Discard</button>
                        <button id="kt_add_users_submit" type="submit" class="btn btn-primary" data-kt-add-users-modal-action="submit">
                            <span class="indicator-label">Submit</span>
                            <span class="indicator-progress">
                                Please wait...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                    </div>
                    <!-- End::Actions -->
                </form>
                <!-- End::Form -->
            </div>
            <!-- End::Modal body -->
        </div>
        <!-- End::Modal content -->
    </div>
    <!-- End::Modal dialog -->
</div>

<!--begin::Form-->
<form method="post" class="form w-100" novalidate="novalidate" id="kt_sign_in_form" data-login-url="@Url.Action("Login", "Auth")" data-kt-redirect-url="/dashboard" action="#">
    @Html.AntiForgeryToken()
    <!--begin::Heading-->
    <div class="text-center mb-11">
        <!--begin::Title-->
        <h1 class="text-dark fw-bolder mb-3">
            Sign In
        </h1>
        <!--end::Title-->
        <!--begin::Subtitle-->
        <div class="text-gray-500 fw-semibold fs-6">
            Bureau Of Fire Protection - MIMAROPA Region
        </div>
        <!--end::Subtitle--->
    </div>
    <!--begin::Heading-->
    <!--begin::Input group--->
    <div class="fv-row mb-8">
        <!--begin::Account/Badge-->
        <input type="text" placeholder="Account Number" name="account" id="kt_account" autocomplete="off" class="form-control bg-transparent border border-primary border-hover border-active active" />
        <!--end::Account/Badge-->
    </div>
    @*
    <div class="fv-row bg-transparent form-floating mb-7">
    <input type="fv-row" class="form-control bg-transparent border border-primary border-hover border-active active" name="account" id="kt_account" autocomplete="off" placeholder="Account Number" />
    <label for="kt_account" class="bg-transparent">Account Number</label>
    </div>
    *@
    <!--begin::Password--->
    <div class="fv-row mb-3">
        <div class="position-relative mb-3">
            <input class="form-control bg-transparent border border-primary border-hover border-active active" type="password" placeholder="Password" name="password" id="kt_password" autocomplete="off" />

            <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2" id="password-toggle">
                <i class="bi bi-eye-slash fs-2" id="password-icon"></i>
            </span>
        </div>
    </div>
    <!--end::Password--->
    <!--begin::Wrapper-->
    <div class="d-flex flex-stack flex-wrap gap-3 fs-base fw-semibold mb-8">
        <div></div>
        <!--begin::Link-->
        <a class="btn link-primary" data-bs-toggle="modal" data-bs-target="#kt_modal_forgot_password">
            Forgot Password ?
        </a>
        <!--end::Link-->
    </div>
    <!--end::Wrapper-->
    <!--begin::Submit button-->
    <div class="d-grid mb-10">
        <button type="submit" id="kt_sign_in_submit" class="btn btn-primary">
            @await Html.PartialAsync("~/Views/Partials/General/_ButtonIndicator.cshtml", new ViewDataDictionary(ViewData) {
            { "ButtonLabel", "Sign In" },
            })
        </button>
    </div>
    <!--end::Submit button-->
</form>
<!--end::Form-->

<!-- JavaScript to toggle password visibility -->
<script>
    const passwordInput = document.getElementById("kt_password");
    const passwordIcon = document.getElementById("password-icon");
    const passwordToggle = document.getElementById("password-toggle");

    passwordToggle.addEventListener("click", () => {
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            passwordIcon.classList.remove("bi-eye-slash");
            passwordIcon.classList.add("bi-eye");
        } else {
            passwordInput.type = "password";
            passwordIcon.classList.remove("bi-eye");
            passwordIcon.classList.add("bi-eye-slash");
        }
    });
</script>